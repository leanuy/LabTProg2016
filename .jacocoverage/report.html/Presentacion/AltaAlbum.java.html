<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>AltaAlbum.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;Espotify&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">Presentacion</a> &gt; <span class="el_source">AltaAlbum.java</span></div><h1>AltaAlbum.java</h1><pre class="source lang-java linenums">package Presentacion;


import espotify.Datatypes.DataAlbum;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.DefaultListModel;
import javax.swing.JDialog;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.ListModel;

public class AltaAlbum extends javax.swing.JInternalFrame {
    
    private DefaultListModel modeloTemas; 
    private DefaultListModel modeloGeneros;
    private String pathAImagen;
    private boolean primeraVez;
    
    /**
     * Creates new form AltaAlbum
     */
<span class="nc" id="L26">    public AltaAlbum() {</span>
<span class="nc" id="L27">        initComponents();</span>
<span class="nc" id="L28">        modeloTemas = new DefaultListModel();</span>
<span class="nc" id="L29">        modeloGeneros = new DefaultListModel();</span>
<span class="nc" id="L30">        ListaTemas.setModel(modeloTemas);</span>
<span class="nc" id="L31">        ListaGeneros.setModel(modeloGeneros);</span>
<span class="nc" id="L32">        buttonConfirmarALtaAlbum.setEnabled(false);</span>
<span class="nc" id="L33">        PanelSDatosAlbum.setEnabled(true);</span>
<span class="nc" id="L34">        primeraVez = true;</span>
<span class="nc" id="L35">    }</span>
    
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L47">        PanelBusquedaDeArtista = new javax.swing.JPanel();</span>
<span class="nc" id="L48">        LabelnombreArtista = new javax.swing.JLabel();</span>
<span class="nc" id="L49">        nombreArtista = new javax.swing.JTextField();</span>
<span class="nc" id="L50">        buttonBuscarArtista = new javax.swing.JButton();</span>
<span class="nc" id="L51">        PanelSDatosAlbum = new javax.swing.JPanel();</span>
<span class="nc" id="L52">        ScrollListaArtistas = new javax.swing.JScrollPane();</span>
<span class="nc" id="L53">        ListaGeneros = new javax.swing.JList&lt;&gt;();</span>
<span class="nc" id="L54">        LabelGeneros = new javax.swing.JLabel();</span>
<span class="nc" id="L55">        buttonAgregarTema = new javax.swing.JButton();</span>
<span class="nc" id="L56">        LabelNombreALbum = new javax.swing.JLabel();</span>
<span class="nc" id="L57">        nombreAlbum = new javax.swing.JTextField();</span>
<span class="nc" id="L58">        LabelAnioCreacion = new javax.swing.JLabel();</span>
<span class="nc" id="L59">        anioDeCreacion = new javax.swing.JTextField();</span>
<span class="nc" id="L60">        jLabel1 = new javax.swing.JLabel();</span>
<span class="nc" id="L61">        jScrollPane1 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L62">        ListaTemas = new javax.swing.JList&lt;&gt;();</span>
<span class="nc" id="L63">        LabelTemas = new javax.swing.JLabel();</span>
<span class="nc" id="L64">        buttonQuitarTema = new javax.swing.JButton();</span>
<span class="nc" id="L65">        buttonAgregarImagen = new javax.swing.JButton();</span>
<span class="nc" id="L66">        pathALaImagen = new javax.swing.JTextField();</span>
<span class="nc" id="L67">        jLabel2 = new javax.swing.JLabel();</span>
<span class="nc" id="L68">        buttonConfirmarALtaAlbum = new javax.swing.JButton();</span>
<span class="nc" id="L69">        buttonCancelarAltaAlbum = new javax.swing.JButton();</span>

<span class="nc" id="L71">        setClosable(true);</span>
<span class="nc" id="L72">        setTitle(&quot;Alta Album&quot;);</span>

<span class="nc" id="L74">        LabelnombreArtista.setText(&quot;Nombre del Artista&quot;);</span>

<span class="nc" id="L76">        buttonBuscarArtista.setText(&quot;Buscar&quot;);</span>
<span class="nc" id="L77">        buttonBuscarArtista.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L79">                buttonBuscarArtistaActionPerformed(evt);</span>
<span class="nc" id="L80">            }</span>
        });

<span class="nc" id="L83">        javax.swing.GroupLayout PanelBusquedaDeArtistaLayout = new javax.swing.GroupLayout(PanelBusquedaDeArtista);</span>
<span class="nc" id="L84">        PanelBusquedaDeArtista.setLayout(PanelBusquedaDeArtistaLayout);</span>
<span class="nc" id="L85">        PanelBusquedaDeArtistaLayout.setHorizontalGroup(</span>
<span class="nc" id="L86">            PanelBusquedaDeArtistaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L87">            .addGroup(PanelBusquedaDeArtistaLayout.createSequentialGroup()</span>
<span class="nc" id="L88">                .addGap(36, 36, 36)</span>
<span class="nc" id="L89">                .addComponent(LabelnombreArtista)</span>
<span class="nc" id="L90">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L91">                .addComponent(nombreArtista, javax.swing.GroupLayout.PREFERRED_SIZE, 425, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L92">                .addGap(18, 18, 18)</span>
<span class="nc" id="L93">                .addComponent(buttonBuscarArtista)</span>
<span class="nc" id="L94">                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))</span>
        );
<span class="nc" id="L96">        PanelBusquedaDeArtistaLayout.setVerticalGroup(</span>
<span class="nc" id="L97">            PanelBusquedaDeArtistaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L98">            .addGroup(PanelBusquedaDeArtistaLayout.createSequentialGroup()</span>
<span class="nc" id="L99">                .addGap(30, 30, 30)</span>
<span class="nc" id="L100">                .addGroup(PanelBusquedaDeArtistaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L101">                    .addComponent(LabelnombreArtista)</span>
<span class="nc" id="L102">                    .addComponent(nombreArtista, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L103">                    .addComponent(buttonBuscarArtista))</span>
<span class="nc" id="L104">                .addContainerGap(49, Short.MAX_VALUE))</span>
        );

<span class="nc" id="L107">        ScrollListaArtistas.setViewportView(ListaGeneros);</span>

<span class="nc" id="L109">        LabelGeneros.setFont(new java.awt.Font(&quot;DejaVu Sans&quot;, 1, 14)); // NOI18N</span>
<span class="nc" id="L110">        LabelGeneros.setText(&quot;Generos&quot;);</span>

<span class="nc" id="L112">        buttonAgregarTema.setText(&quot;Agregar Tema&quot;);</span>
<span class="nc" id="L113">        buttonAgregarTema.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L115">                buttonAgregarTemaActionPerformed(evt);</span>
<span class="nc" id="L116">            }</span>
        });

<span class="nc" id="L119">        LabelNombreALbum.setText(&quot;Nombre del Album&quot;);</span>

<span class="nc" id="L121">        LabelAnioCreacion.setText(&quot;Anio de creacion&quot;);</span>

<span class="nc" id="L123">        anioDeCreacion.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L125">                anioDeCreacionActionPerformed(evt);</span>
<span class="nc" id="L126">            }</span>
        });

<span class="nc" id="L129">        jLabel1.setText(&quot;(Seleccione los generos de la lista)&quot;);</span>

<span class="nc" id="L131">        jScrollPane1.setViewportView(ListaTemas);</span>

<span class="nc" id="L133">        LabelTemas.setFont(new java.awt.Font(&quot;DejaVu Sans&quot;, 1, 14)); // NOI18N</span>
<span class="nc" id="L134">        LabelTemas.setText(&quot;Temas&quot;);</span>

<span class="nc" id="L136">        buttonQuitarTema.setText(&quot;Quitar Tema&quot;);</span>
<span class="nc" id="L137">        buttonQuitarTema.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L139">                buttonQuitarTemaActionPerformed(evt);</span>
<span class="nc" id="L140">            }</span>
        });

<span class="nc" id="L143">        buttonAgregarImagen.setText(&quot;Agregar Imagen&quot;);</span>
<span class="nc" id="L144">        buttonAgregarImagen.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L146">                buttonAgregarImagenActionPerformed(evt);</span>
<span class="nc" id="L147">            }</span>
        });

<span class="nc" id="L150">        jLabel2.setText(&quot;(solo archivos .jpg o .png)&quot;);</span>

<span class="nc" id="L152">        buttonConfirmarALtaAlbum.setText(&quot;Confirmar Alta Album&quot;);</span>
<span class="nc" id="L153">        buttonConfirmarALtaAlbum.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L155">                buttonConfirmarALtaAlbumActionPerformed(evt);</span>
<span class="nc" id="L156">            }</span>
        });

<span class="nc" id="L159">        buttonCancelarAltaAlbum.setText(&quot;Cancelar Alta&quot;);</span>
<span class="nc" id="L160">        buttonCancelarAltaAlbum.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L162">                buttonCancelarAltaAlbumActionPerformed(evt);</span>
<span class="nc" id="L163">            }</span>
        });

<span class="nc" id="L166">        javax.swing.GroupLayout PanelSDatosAlbumLayout = new javax.swing.GroupLayout(PanelSDatosAlbum);</span>
<span class="nc" id="L167">        PanelSDatosAlbum.setLayout(PanelSDatosAlbumLayout);</span>
<span class="nc" id="L168">        PanelSDatosAlbumLayout.setHorizontalGroup(</span>
<span class="nc" id="L169">            PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L170">            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L171">                .addGap(52, 52, 52)</span>
<span class="nc" id="L172">                .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L173">                    .addComponent(LabelTemas)</span>
<span class="nc" id="L174">                    .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L175">                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 369, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L176">                        .addGap(69, 69, 69)</span>
<span class="nc" id="L177">                        .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)</span>
<span class="nc" id="L178">                            .addComponent(buttonConfirmarALtaAlbum, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L179">                            .addComponent(buttonAgregarTema, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L180">                            .addComponent(buttonQuitarTema, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L181">                            .addComponent(buttonCancelarAltaAlbum, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))</span>
<span class="nc" id="L182">                .addContainerGap(93, Short.MAX_VALUE))</span>
<span class="nc" id="L183">            .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L184">                .addGap(32, 32, 32)</span>
<span class="nc" id="L185">                .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L186">                    .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L187">                        .addComponent(jLabel2)</span>
<span class="nc" id="L188">                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))</span>
<span class="nc" id="L189">                    .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L190">                        .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)</span>
<span class="nc" id="L191">                            .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L192">                                .addGap(6, 6, 6)</span>
<span class="nc" id="L193">                                .addComponent(LabelAnioCreacion)</span>
<span class="nc" id="L194">                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L195">                                .addComponent(anioDeCreacion, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L196">                            .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L197">                                .addComponent(LabelNombreALbum)</span>
<span class="nc" id="L198">                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L199">                                .addComponent(nombreAlbum, javax.swing.GroupLayout.PREFERRED_SIZE, 221, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L200">                            .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L201">                                .addComponent(buttonAgregarImagen)</span>
<span class="nc" id="L202">                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L203">                                .addComponent(pathALaImagen)))</span>
<span class="nc" id="L204">                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L205">                        .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)</span>
<span class="nc" id="L206">                            .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L207">                                .addComponent(LabelGeneros)</span>
<span class="nc" id="L208">                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L209">                                .addComponent(jLabel1))</span>
<span class="nc" id="L210">                            .addComponent(ScrollListaArtistas))</span>
<span class="nc" id="L211">                        .addGap(25, 25, 25))))</span>
        );
<span class="nc" id="L213">        PanelSDatosAlbumLayout.setVerticalGroup(</span>
<span class="nc" id="L214">            PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L215">            .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L216">                .addContainerGap()</span>
<span class="nc" id="L217">                .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L218">                    .addComponent(LabelNombreALbum)</span>
<span class="nc" id="L219">                    .addComponent(nombreAlbum, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L220">                    .addComponent(LabelGeneros)</span>
<span class="nc" id="L221">                    .addComponent(jLabel1))</span>
<span class="nc" id="L222">                .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)</span>
<span class="nc" id="L223">                    .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L224">                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L225">                        .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L226">                            .addComponent(LabelAnioCreacion)</span>
<span class="nc" id="L227">                            .addComponent(anioDeCreacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L228">                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L229">                        .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L230">                            .addComponent(buttonAgregarImagen)</span>
<span class="nc" id="L231">                            .addComponent(pathALaImagen, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))</span>
<span class="nc" id="L232">                    .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L233">                        .addGap(4, 4, 4)</span>
<span class="nc" id="L234">                        .addComponent(ScrollListaArtistas, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)))</span>
<span class="nc" id="L235">                .addGap(7, 7, 7)</span>
<span class="nc" id="L236">                .addComponent(jLabel2)</span>
<span class="nc" id="L237">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L238">                .addComponent(LabelTemas)</span>
<span class="nc" id="L239">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L240">                .addGroup(PanelSDatosAlbumLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)</span>
<span class="nc" id="L241">                    .addGroup(PanelSDatosAlbumLayout.createSequentialGroup()</span>
<span class="nc" id="L242">                        .addComponent(buttonAgregarTema, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L243">                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L244">                        .addComponent(buttonQuitarTema, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L245">                        .addGap(71, 71, 71)</span>
<span class="nc" id="L246">                        .addComponent(buttonConfirmarALtaAlbum, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L247">                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L248">                        .addComponent(buttonCancelarAltaAlbum, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))</span>
<span class="nc" id="L249">                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 251, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L250">                .addContainerGap(65, Short.MAX_VALUE))</span>
        );

<span class="nc" id="L253">        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());</span>
<span class="nc" id="L254">        getContentPane().setLayout(layout);</span>
<span class="nc" id="L255">        layout.setHorizontalGroup(</span>
<span class="nc" id="L256">            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L257">            .addComponent(PanelBusquedaDeArtista, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L258">            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()</span>
<span class="nc" id="L259">                .addContainerGap()</span>
<span class="nc" id="L260">                .addComponent(PanelSDatosAlbum, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L261">                .addContainerGap())</span>
        );
<span class="nc" id="L263">        layout.setVerticalGroup(</span>
<span class="nc" id="L264">            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L265">            .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L266">                .addComponent(PanelBusquedaDeArtista, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L267">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L268">                .addComponent(PanelSDatosAlbum, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L269">                .addContainerGap())</span>
        );

<span class="nc" id="L272">        pack();</span>
<span class="nc" id="L273">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void buttonBuscarArtistaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonBuscarArtistaActionPerformed
        //crear interfaz ver si la hacemos local o solo la use una vez y devuelva
<span class="nc" id="L277">        ArrayList&lt;String&gt; generos = null;</span>
        try{
            //Llamado a la operacion de busqueda, devuelve lo que corresponde
<span class="nc" id="L280">            buttonConfirmarALtaAlbum.setEnabled(true);</span>
<span class="nc" id="L281">            PanelSDatosAlbum.setEnabled(true);</span>
            //generos = operacion de la interfaz;
<span class="nc bnc" id="L283" title="All 2 branches missed.">            if(generos != null){</span>
<span class="nc bnc" id="L284" title="All 2 branches missed.">                for(String s : generos){</span>
<span class="nc" id="L285">                    modeloGeneros.addElement(s); </span>
<span class="nc" id="L286">                }</span>
            }else{
<span class="nc bnc" id="L288" title="All 2 branches missed.">                if(primeraVez){</span>
<span class="nc" id="L289">                    modeloGeneros.addElement(&quot;Sin generos&quot;);</span>
<span class="nc" id="L290">                    primeraVez = false;</span>
                }
            }
<span class="nc" id="L293">        }catch(Exception e){</span>
<span class="nc" id="L294">            JOptionPane.showMessageDialog(this,e.getMessage(), &quot;Atencion!!!&quot;,JOptionPane.WARNING_MESSAGE);</span>
<span class="nc" id="L295">            nombreArtista.setText(&quot;&quot;);</span>
<span class="nc" id="L296">        }</span>
        
<span class="nc" id="L298">    }//GEN-LAST:event_buttonBuscarArtistaActionPerformed</span>

    private void buttonQuitarTemaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonQuitarTemaActionPerformed
        // TODO ver que hay un tema seleccionado, y sacarlo del modelo de la lista
        // si hay mas de uno sacarlos todos?? o dejar seleccionar de a uno.
        int seleccionado;
<span class="nc" id="L304">        int cantidadSeleccionados = ListaTemas.getSelectedValuesList().size();</span>
<span class="nc bnc" id="L305" title="All 2 branches missed.">        if (cantidadSeleccionados &gt; 1){</span>
<span class="nc" id="L306">            int opcion = JOptionPane.showConfirmDialog(this, &quot;Esta quitando mas de un elemento de la lista&quot;, &quot;Atencion!!!&quot;, JOptionPane.WARNING_MESSAGE);</span>
<span class="nc bnc" id="L307" title="All 4 branches missed.">            if(opcion == JOptionPane.CANCEL_OPTION || opcion ==JOptionPane.NO_OPTION){</span>
<span class="nc" id="L308">                return;</span>
            }
<span class="nc" id="L310">            int[] seleccionados = ListaTemas.getSelectedIndices();</span>
<span class="nc bnc" id="L311" title="All 2 branches missed.">            for(int i = seleccionados.length - 1; i &gt;= 0; i--){</span>
<span class="nc" id="L312">                modeloTemas.remove(seleccionados[i]);</span>
            }
<span class="nc" id="L314">        }else{</span>
<span class="nc bnc" id="L315" title="All 2 branches missed.">            if(cantidadSeleccionados != 0){</span>
<span class="nc" id="L316">                seleccionado = ListaTemas.getSelectedIndex();</span>
<span class="nc" id="L317">                modeloTemas.remove(seleccionado);</span>
            }
        }
        //ListaTemas.
        
<span class="nc" id="L322">    }//GEN-LAST:event_buttonQuitarTemaActionPerformed</span>

    private void buttonAgregarTemaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonAgregarTemaActionPerformed
        // TODO abrir el jdialog ue agregue el tema y si esta todo ok ponerlo en la lista.
        // ver que carajo agregar de cada tema
<span class="nc" id="L327">        String tema = JOptionPane.showInputDialog(this, &quot;Ingrese el path al tema o el link al mismo&quot;);</span>
<span class="nc" id="L328">        modeloTemas.addElement(tema);</span>
        
<span class="nc" id="L330">    }//GEN-LAST:event_buttonAgregarTemaActionPerformed</span>

    private void buttonAgregarImagenActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonAgregarImagenActionPerformed
        // TODO abrir un file chooser y que file por tipo de archivo. solo jpg o png. mostrar path luego en textfield editable
        // avisar y no seleccionar si archivo no tiene la extension deseada.
<span class="nc" id="L335">        JFileChooser fc = new JFileChooser();</span>
<span class="nc" id="L336">        this.getContentPane().add(fc);</span>
<span class="nc" id="L337">        fc.setVisible(true);</span>
        
<span class="nc" id="L339">        int selected = fc.showDialog(this, &quot;Seleccionar&quot;);</span>
<span class="nc bnc" id="L340" title="All 2 branches missed.">        if(selected == JFileChooser.APPROVE_OPTION){</span>
<span class="nc" id="L341">            File file = fc.getSelectedFile();</span>
            try {
<span class="nc" id="L343">                pathAImagen = file.getCanonicalPath();</span>
<span class="nc" id="L344">                String ext = getExtension(file);</span>
<span class="nc bnc" id="L345" title="All 4 branches missed.">                if(!&quot;jpg&quot;.equals(ext) &amp;&amp; !&quot;png&quot;.equals(ext)){</span>
<span class="nc" id="L346">                    JOptionPane.showMessageDialog(this, &quot;Debe seleccionar una imagen formato .jpg o .png&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L347">                    fc.setVisible(false);</span>
<span class="nc" id="L348">                    return;</span>
                }
<span class="nc" id="L350">                pathALaImagen.setText(pathAImagen);</span>
<span class="nc" id="L351">            } catch (IOException ex) {</span>
<span class="nc" id="L352">                JOptionPane.showMessageDialog(this, &quot;La ruta al archivo no es correcta&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L353">            }</span>
        }
<span class="nc" id="L355">        fc.setVisible(false);    </span>
<span class="nc" id="L356">    }//GEN-LAST:event_buttonAgregarImagenActionPerformed</span>

    private void anioDeCreacionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_anioDeCreacionActionPerformed
        // TODO add your handling code here: ppuuuta aprete dos veces la label
<span class="nc" id="L360">    }//GEN-LAST:event_anioDeCreacionActionPerformed</span>

    private void buttonConfirmarALtaAlbumActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonConfirmarALtaAlbumActionPerformed
<span class="nc" id="L363">        String ext = pathALaImagen.getText();</span>
<span class="nc bnc" id="L364" title="All 2 branches missed.">        if(!getExtensionDeString(ext)){</span>
<span class="nc" id="L365">            JOptionPane.showMessageDialog(this, &quot;Debe seleccionar una imagen formato .jpg o .png&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L366">            return;</span>
        }
<span class="nc" id="L368">        int year = 0;</span>
        try{
<span class="nc" id="L370">            year = Integer.parseInt(anioDeCreacion.getText());</span>
<span class="nc" id="L371">        }catch(NumberFormatException e){</span>
<span class="nc" id="L372">            JOptionPane.showMessageDialog(this, &quot;Año de creacion invalido.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L373">            return;</span>
<span class="nc" id="L374">        }</span>
<span class="nc" id="L375">        ArrayList&lt;String&gt; genders = new ArrayList();</span>
        
<span class="nc" id="L377">        int[] seleccionados = ListaGeneros.getSelectedIndices();</span>
<span class="nc bnc" id="L378" title="All 2 branches missed.">        if (seleccionados.length != 0){</span>
<span class="nc bnc" id="L379" title="All 2 branches missed.">            for(int j = 0; j &lt; seleccionados.length; ++j){</span>
<span class="nc" id="L380">                genders.add((String)modeloGeneros.getElementAt(seleccionados[j]));</span>
            }
        }else{
<span class="nc" id="L383">            genders = null;</span>
        }
<span class="nc" id="L385">        DataAlbum nuevoAlbum = new DataAlbum(nombreAlbum.getText(),year,genders,ext);</span>
        //crear el album y luego cargarle los temas...
<span class="nc" id="L387">    }//GEN-LAST:event_buttonConfirmarALtaAlbumActionPerformed</span>

    private void buttonCancelarAltaAlbumActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonCancelarAltaAlbumActionPerformed
<span class="nc" id="L390">        this.dispose();</span>
<span class="nc" id="L391">    }//GEN-LAST:event_buttonCancelarAltaAlbumActionPerformed</span>


    private String getExtension(File f) {
<span class="nc" id="L395">        String ext = null;</span>
<span class="nc" id="L396">        String s = f.getName();</span>
<span class="nc" id="L397">        int i = s.lastIndexOf('.');</span>
<span class="nc bnc" id="L398" title="All 4 branches missed.">        if (i &gt; 0 &amp;&amp;  i &lt; s.length() - 1) {</span>
<span class="nc" id="L399">            ext = s.substring(i+1).toLowerCase();</span>
        }
<span class="nc" id="L401">        return ext;</span>
    }
    
    private boolean getExtensionDeString(String s) {
<span class="nc" id="L405">        boolean ext = false;</span>
<span class="nc" id="L406">        int i = s.lastIndexOf('.');</span>
<span class="nc bnc" id="L407" title="All 4 branches missed.">        if (i &gt; 0 &amp;&amp;  i &lt; s.length() - 1) {</span>
<span class="nc bnc" id="L408" title="All 4 branches missed.">            ext = &quot;jpg&quot;.equals(s.substring(i+1).toLowerCase()) || &quot;png&quot;.equals(s.substring(i+1).toLowerCase());</span>
        }
<span class="nc" id="L410">        return ext;</span>
    }
           
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel LabelAnioCreacion;
    private javax.swing.JLabel LabelGeneros;
    private javax.swing.JLabel LabelNombreALbum;
    private javax.swing.JLabel LabelTemas;
    private javax.swing.JLabel LabelnombreArtista;
    private javax.swing.JList&lt;String&gt; ListaGeneros;
    private javax.swing.JList&lt;String&gt; ListaTemas;
    private javax.swing.JPanel PanelBusquedaDeArtista;
    private javax.swing.JPanel PanelSDatosAlbum;
    private javax.swing.JScrollPane ScrollListaArtistas;
    private javax.swing.JTextField anioDeCreacion;
    private javax.swing.JButton buttonAgregarImagen;
    private javax.swing.JButton buttonAgregarTema;
    private javax.swing.JButton buttonBuscarArtista;
    private javax.swing.JButton buttonCancelarAltaAlbum;
    private javax.swing.JButton buttonConfirmarALtaAlbum;
    private javax.swing.JButton buttonQuitarTema;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTextField nombreAlbum;
    private javax.swing.JTextField nombreArtista;
    private javax.swing.JTextField pathALaImagen;
    // End of variables declaration//GEN-END:variables
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>